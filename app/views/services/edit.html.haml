%h1
  Update
  = @service.name

- if @service.organization_id != current_user.organization_id
  You must be a member of the organization to update this API

%form(action="https://#{ENV['S3_BUCKET']}.s3.amazonaws.com" method="post" enctype="multipart/form-data" class='direct-upload')
  %input{type: :hidden, name: :key}
  %input{type: :hidden, name: "AWSAccessKeyId", value: ENV["AWS_ACCESS_KEY_ID"]}
  %input{type: :hidden, name: :acl, value: 'public-read'}
  %input{type: :hidden, name: :policy}
  %input{type: :hidden, name: :signature}
  %input{type: :hidden, name: :success_action_status, value: "201"}

  %input{type: :file, name: :file }
  - # You can recognize some bootstrap markup here :)
  .progress.progress-striped.active
    .bar

= form_for @service, as: :service, url: "/services/"+@service.slug, method: :put, multipart: true do |f|
  = f.hidden_field :file, value: "https://#{ENV['S3_BUCKET']}.s3.amazonaws.com/"
  = f.submit "Update", data: { confirm: "NOTE: You are about to make this csv's data available to the public. If you are okay with this, Press OK to continue:" }

%h2
  Example data:

%ul
  - @service.records.first.attributes.to_a[1..-1].each do |a|
    %li
      = a[0] + ": " + a[1].to_s
/ ************* I added some of this for clarification.  This page can be refactored of what information will be truly relevant
%div.container
  When you are adding data, make sure that the file you are uploading does not contain data that already exists if you do not want duplicate data.
  %div
    To see what data already exists,
    =link_to "click here.", "/services/#{@service.slug}/records"

Make sure that your file has the following headers
%ul
  - @service.records.first.attributes.keys[1..-1].each do |key|
    %li
      = key
